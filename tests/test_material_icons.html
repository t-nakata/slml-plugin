<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Material Design Icons Test</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      margin: 0;
      padding: 20px;
      color: #333;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    h1 {
      color: #2c3e50;
      margin-bottom: 20px;
    }
    .test-case {
      border: 1px solid #ddd;
      border-radius: 4px;
      padding: 15px;
      margin-bottom: 20px;
    }
    .test-case h2 {
      margin-top: 0;
      color: #3498db;
    }
    .code {
      background-color: #f5f5f5;
      padding: 15px;
      border-radius: 4px;
      margin-bottom: 10px;
      font-family: monospace;
      white-space: pre-wrap;
    }
    .result {
      border: 1px solid #ddd;
      border-radius: 4px;
      padding: 15px;
      min-height: 200px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Material Design Icons Test Cases</h1>

    <div class="test-case">
      <h2>Test Case 1: AppBar with Material Design Icons</h2>
      <div class="code">```slml
Screen: AppBar with Material Design Icons (width: 500, height: 300, backgroundColor: #f5f5f5)
- Appbar: Home { backgroundColor: #2196F3, actionIcons: mdiMagnify|mdiCog|mdiAccountCircle }
- Text: This AppBar uses Material Design Icons from CDN.
```</div>
      <div class="result" id="result1"></div>
    </div>

    <div class="test-case">
      <h2>Test Case 2: AppBar with Mixed Icons</h2>
      <div class="code">```slml
Screen: AppBar with Mixed Icons (width: 500, height: 300, backgroundColor: #f5f5f5)
- Appbar: Settings { backgroundColor: #2196F3, showBackButton: true, actionIcons: mdiCog|❓|mdiHelpCircle }
- Text: This AppBar uses both Material Design Icons and emoji icons.
```</div>
      <div class="result" id="result2"></div>
    </div>

    <div class="test-case">
      <h2>Test Case 3: AppBar with All Available Icons</h2>
      <div class="code">```slml
Screen: All Available Icons (width: 500, height: 800, backgroundColor: #f5f5f5)
- Appbar: Icons Demo { backgroundColor: #2196F3, centerTitle: true }
- Text: Available Material Design Icons:
- Text: mdiAccountCircle: { align: left, padding: 5 }
- Text: mdiCheckDecagram: { align: left, padding: 5 }
- Text: mdiEmail: { align: left, padding: 5 }
- Text: mdiMenu: { align: left, padding: 5 }
- Text: mdiDotsVertical: { align: left, padding: 5 }
- Text: mdiMagnify: { align: left, padding: 5 }
- Text: mdiCog: { align: left, padding: 5 }
- Text: mdiAccount: { align: left, padding: 5 }
- Text: mdiHelpCircle: { align: left, padding: 5 }
- Text: mdiPencil: { align: left, padding: 5 }
- Text: mdiStar: { align: left, padding: 5 }
- Text: mdiArrowLeft: { align: left, padding: 5 }
- Text: mdiHome: { align: left, padding: 5 }
- Text: mdiCalendar: { align: left, padding: 5 }
- Text: mdiCamera: { align: left, padding: 5 }
- Text: mdiDelete: { align: left, padding: 5 }
- Text: mdiDownload: { align: left, padding: 5 }
- Text: mdiUpload: { align: left, padding: 5 }
- Text: mdiFavorite: { align: left, padding: 5 }
- Text: mdiHeart: { align: left, padding: 5 }
- Text: mdiInformation: { align: left, padding: 5 }
- Text: mdiLock: { align: left, padding: 5 }
- Text: mdiMap: { align: left, padding: 5 }
- Text: mdiMessage: { align: left, padding: 5 }
- Text: mdiNotification: { align: left, padding: 5 }
- Text: mdiPhone: { align: left, padding: 5 }
- Text: mdiPlus: { align: left, padding: 5 }
- Text: mdiRefresh: { align: left, padding: 5 }
- Text: mdiSave: { align: left, padding: 5 }
- Text: mdiSend: { align: left, padding: 5 }
- Text: mdiSettings: { align: left, padding: 5 }
- Text: mdiShare: { align: left, padding: 5 }
- Text: mdiShoppingCart: { align: left, padding: 5 }
- Text: mdiThumbUp: { align: left, padding: 5 }
- Text: mdiThumbDown: { align: left, padding: 5 }
- Text: mdiTrash: { align: left, padding: 5 }
- Text: mdiWarning: { align: left, padding: 5 }
```</div>
      <div class="result" id="result3"></div>
    </div>
  </div>

  <script type="module">
    // Import the renderer
    import { replaceSLMLWithSVG } from '../renderer.js';
    import { createIconSVG } from '../icons.js';

    // Test cases
    const testCases = [
      {
        id: 'result1',
        slml: `Screen: AppBar with Material Design Icons (width: 500, height: 300, backgroundColor: #f5f5f5)
- Appbar: Home { backgroundColor: #2196F3, actionIcons: mdiMagnify|mdiCog|mdiAccountCircle }
- Text: This AppBar uses Material Design Icons from CDN.`
      },
      {
        id: 'result2',
        slml: `Screen: AppBar with Mixed Icons (width: 500, height: 300, backgroundColor: #f5f5f5)
- Appbar: Settings { backgroundColor: #2196F3, showBackButton: true, actionIcons: mdiCog|❓|mdiHelpCircle }
- Text: This AppBar uses both Material Design Icons and emoji icons.`
      },
      {
        id: 'result3',
        slml: `Screen: All Available Icons (width: 500, height: 800, backgroundColor: #f5f5f5)
- Appbar: Icons Demo { backgroundColor: #2196F3, centerTitle: true }
- Text: Available Material Design Icons:
- Text: mdiAccountCircle: { align: left, padding: 5 }
- Text: mdiCheckDecagram: { align: left, padding: 5 }
- Text: mdiEmail: { align: left, padding: 5 }
- Text: mdiMenu: { align: left, padding: 5 }
- Text: mdiDotsVertical: { align: left, padding: 5 }
- Text: mdiMagnify: { align: left, padding: 5 }
- Text: mdiCog: { align: left, padding: 5 }
- Text: mdiAccount: { align: left, padding: 5 }
- Text: mdiHelpCircle: { align: left, padding: 5 }
- Text: mdiPencil: { align: left, padding: 5 }
- Text: mdiStar: { align: left, padding: 5 }
- Text: mdiArrowLeft: { align: left, padding: 5 }
- Text: mdiHome: { align: left, padding: 5 }
- Text: mdiCalendar: { align: left, padding: 5 }
- Text: mdiCamera: { align: left, padding: 5 }
- Text: mdiDelete: { align: left, padding: 5 }
- Text: mdiDownload: { align: left, padding: 5 }
- Text: mdiUpload: { align: left, padding: 5 }
- Text: mdiFavorite: { align: left, padding: 5 }
- Text: mdiHeart: { align: left, padding: 5 }
- Text: mdiInformation: { align: left, padding: 5 }
- Text: mdiLock: { align: left, padding: 5 }
- Text: mdiMap: { align: left, padding: 5 }
- Text: mdiMessage: { align: left, padding: 5 }
- Text: mdiNotification: { align: left, padding: 5 }
- Text: mdiPhone: { align: left, padding: 5 }
- Text: mdiPlus: { align: left, padding: 5 }
- Text: mdiRefresh: { align: left, padding: 5 }
- Text: mdiSave: { align: left, padding: 5 }
- Text: mdiSend: { align: left, padding: 5 }
- Text: mdiSettings: { align: left, padding: 5 }
- Text: mdiShare: { align: left, padding: 5 }
- Text: mdiShoppingCart: { align: left, padding: 5 }
- Text: mdiThumbUp: { align: left, padding: 5 }
- Text: mdiThumbDown: { align: left, padding: 5 }
- Text: mdiTrash: { align: left, padding: 5 }
- Text: mdiWarning: { align: left, padding: 5 }`
      }
    ];

    // Render each test case
    window.addEventListener('DOMContentLoaded', () => {
      testCases.forEach(testCase => {
        const resultElement = document.getElementById(testCase.id);
        if (resultElement) {
          try {
            const svg = replaceSLMLWithSVG(testCase.slml, 0.6);
            resultElement.innerHTML = svg;

            // For test case 3, add icons next to the text
            if (testCase.id === 'result3') {
              // Find all text elements that mention icon names
              const textElements = resultElement.querySelectorAll('text');
              textElements.forEach(textElement => {
                const text = textElement.textContent;
                if (text && text.startsWith('mdi')) {
                  // Extract the icon name
                  const iconName = text.split(':')[0].trim();
                  // Get the position of the text
                  const x = parseFloat(textElement.getAttribute('x')) + 200;
                  const y = parseFloat(textElement.getAttribute('y'));
                  // Create an icon SVG
                  const iconSvg = createIconSVG(iconName, x, y, 24, '#2196F3');
                  // Add the icon SVG after the text
                  resultElement.querySelector('svg').insertAdjacentHTML('beforeend', iconSvg);
                }
              });
            }
          } catch (error) {
            resultElement.innerHTML = `<div style="color: red;">Error: ${error.message}</div>`;
            console.error(`Error rendering ${testCase.id}:`, error);
          }
        }
      });
    });
  </script>
</body>
</html>
